---
// src/pages/archivo.astro
// Página de listado de posts (Archivo)
import { getCollection } from 'astro:content';
import Base from '../layouts/Base.astro';

const posts = (await getCollection('blog'))
  .sort((a, b) => new Date(b.data.pubDate) - new Date(a.data.pubDate));
---
<Base title="Archivo · Ñam.com">
  <h1 class="text-2xl font-semibold mb-6">Archivo de publicaciones</h1>

  <ul class="divide-y divide-[#ccc]">
    {posts.map((p) => (
      <li class="py-2">
        <a href={`/blog/${p.slug}`} class="hover:underline">
          {p.data.title}
        </a>
        <span class="ml-2 opacity-70 text-sm">
          {new Date(p.data.pubDate).toLocaleDateString('es-ES')}
        </span>
      </li>
    ))}
  </ul>
</Base>
