---
// Post.astro – layout global para todos los posts
// Recibe front-matter y children desde los archivos Markdown/MDX
const { frontmatter, children } = Astro.props;
const { title, author, pubDate } = frontmatter ?? {};
---
<html lang="es">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />

    <!-- Título dinámico -->
    <title>{title ?? 'Post'}</title>
    {title && <meta property="og:title" content={title} />}

    <!-- Google Search Console -->
    <meta name="google-site-verification" content="kHoxoOFum4WewT1IfQ8bbbngCy7xK4yAtAtH9nOr-oo" />

    <!-- Hoja de estilos global -->
    <link rel="stylesheet" href="/styles/global.css" />

    <!-- GoatCounter -->
    <script
      async
      data-goatcounter="https://nam.goatcounter.com/count"
      src="//gc.zgo.at/count.js">
    </script>
  </head>

  <body>
    <!-- Botón volver -->
    <a href="/blog" class="back-btn">← Volver</a>

    <article>
      {title && <h1>{title}</h1>}

      {author && (
        <p class="post-meta">
          ✍️ {author}
          {pubDate && (
            <>
              {' · '}
              <time datetime={pubDate}>
                {new Date(pubDate).toLocaleDateString('es-ES', {
                  year: 'numeric',
                  month: 'long',
                  day: 'numeric'
                })}
              </time>
            </>
          )}
        </p>
      )}

      {children}
    </article>
  </body>
</html>


